

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>File and Directory Formats &mdash; Neper 4.2.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Versions" href="versions.html" />
    <link rel="prev" title="Expressions and Keys" href="exprskeys.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Neper
          

          
          </a>

          
            
            
              <div class="version">
                4.2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="copying.html">Conditions of Use</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="neper_t.html">Tessellation Module (-T)</a></li>
<li class="toctree-l1"><a class="reference internal" href="neper_m.html">Meshing Module (-M)</a></li>
<li class="toctree-l1"><a class="reference internal" href="neper_s.html">Simulation Module (-S)</a></li>
<li class="toctree-l1"><a class="reference internal" href="neper_v.html">Visualization Module (-V)</a></li>
<li class="toctree-l1"><a class="reference internal" href="exprskeys.html">Expressions and Keys</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">File and Directory Formats</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tessellation-file-tess">Tessellation File (<code class="file docutils literal notranslate"><span class="pre">.tess</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#raster-tessellation-file-tesr">Raster Tessellation File (<code class="file docutils literal notranslate"><span class="pre">.tesr</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#multiscale-cell-file">Multiscale Cell File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-file">Data File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#position-file">Position File</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mesh-file-msh">Mesh File (<code class="file docutils literal notranslate"><span class="pre">.msh</span></code>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulation-directory-sim">Simulation Directory (<code class="file docutils literal notranslate"><span class="pre">.sim</span></code>)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpl.html">GNU General Public License</a></li>
<li class="toctree-l1"><a class="reference internal" href="fdl.html">GNU Free Documentation License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Neper</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>File and Directory Formats</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/fileformat.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <div class="rst-breadcrumbs-buttons" role="navigation" aria-label="breadcrumb navigation">
      
        <a href="versions.html" class="btn btn-neutral float-right" title="Versions" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="exprskeys.html" class="btn btn-neutral float-left" title="Expressions and Keys" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
  </div>
  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="file-and-directory-formats">
<span id="file-and-directory-formats-link"></span><h1>File and Directory Formats<a class="headerlink" href="#file-and-directory-formats" title="Permalink to this headline">¶</a></h1>
<div class="section" id="tessellation-file-tess">
<span id="tess-file"></span><h2>Tessellation File (<code class="file docutils literal notranslate"><span class="pre">.tess</span></code>)<a class="headerlink" href="#tessellation-file-tess" title="Permalink to this headline">¶</a></h2>
<p>Here are details on the <code class="file docutils literal notranslate"><span class="pre">.tess</span></code> file format version
2.0.  Developers should note that read and write functions are
available as <code class="code docutils literal notranslate"><span class="pre">neut_tess_fscanf</span></code> and <code class="code docutils literal notranslate"><span class="pre">neut_tess_fprintf</span></code>,
defined in directories <code class="file docutils literal notranslate"><span class="pre">neut/neut_tess/neut_tess_fscanf</span></code>
and
<code class="file docutils literal notranslate"><span class="pre">neut/neut_tess/neut_tess_fprintf</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">***</span><span class="n">tess</span>
 <span class="o">**</span><span class="nb">format</span>
   <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span>
 <span class="o">**</span><span class="n">general</span>
   <span class="o">&lt;</span><span class="n">dim</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
 <span class="o">**</span><span class="n">cell</span>
   <span class="o">&lt;</span><span class="n">number_of_cells</span><span class="o">&gt;</span>
 <span class="p">[</span><span class="o">*</span><span class="nb">id</span>
   <span class="o">&lt;</span><span class="n">cell1_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell2_id</span><span class="o">&gt;</span> <span class="o">...</span> <span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">seed</span>
   <span class="o">&lt;</span><span class="n">seed_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">seed_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">seed_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">seed_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">seed_weight</span><span class="o">&gt;</span>
   <span class="o">...</span> <span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">ori</span>
   <span class="o">&lt;</span><span class="n">descriptor</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">cellid_param1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cellid_param2</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="o">...</span> <span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">orispread</span>
   <span class="o">&lt;</span><span class="n">cellid_spread</span><span class="o">&gt;</span>
   <span class="o">...</span> <span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">lam</span>
   <span class="o">&lt;</span><span class="n">cell1_lam</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell2_lam</span><span class="o">&gt;</span> <span class="o">...</span> <span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">mode</span>
   <span class="o">&lt;</span><span class="n">cell1_mode</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell2_mode</span><span class="o">&gt;</span> <span class="o">...</span> <span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">crysym</span>
   <span class="o">&lt;</span><span class="n">crysym</span><span class="o">&gt;</span><span class="p">]</span>
 <span class="o">**</span><span class="n">vertex</span>
   <span class="o">&lt;</span><span class="n">total_number_of_vertices</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">ver_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_state</span><span class="o">&gt;</span>
   <span class="o">...</span>
 <span class="o">**</span><span class="n">edge</span>
   <span class="o">&lt;</span><span class="n">total_number_of_edges</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">edge_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">edge_state</span><span class="o">&gt;</span>
   <span class="o">...</span>
 <span class="o">**</span><span class="n">face</span>
   <span class="o">&lt;</span><span class="n">total_number_of_faces</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">face_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">number_of_vertices</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_2</span><span class="o">&gt;</span> <span class="o">...</span>
             <span class="o">&lt;</span><span class="n">number_of_edges</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">edge_1</span><span class="o">*&gt;</span> <span class="o">&lt;</span><span class="n">edge_2</span><span class="o">*&gt;</span> <span class="o">...</span>
             <span class="o">&lt;</span><span class="n">face_eq_d</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_eq_a</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_eq_b</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_eq_c</span><span class="o">&gt;</span>
             <span class="o">&lt;</span><span class="n">face_state</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_point</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_point_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_point_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_point_z</span><span class="o">&gt;</span>
   <span class="o">...</span>
 <span class="o">**</span><span class="n">polyhedron</span>
   <span class="o">&lt;</span><span class="n">total_number_of_polyhedra</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">poly_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">number_of_faces</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">face_1</span><span class="o">*&gt;</span> <span class="o">&lt;</span><span class="n">face_2</span><span class="o">*&gt;</span> <span class="o">...</span>
   <span class="o">...</span>
 <span class="o">**</span><span class="n">domain</span>
  <span class="o">*</span><span class="n">general</span>
   <span class="o">&lt;</span><span class="n">dom_type</span><span class="o">&gt;</span>
  <span class="o">*</span><span class="n">vertex</span>
   <span class="o">&lt;</span><span class="n">total_number_of_dom_vertices</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">dom_ver_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_ver_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_ver_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_ver_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_ver_label</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="n">number_of_dom_tess_vertices</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ver_1</span><span class="o">&gt;</span>
   <span class="o">...</span>
  <span class="o">*</span><span class="n">edge</span>
   <span class="o">&lt;</span><span class="n">total_number_of_dom_edges</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">dom_edge_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">number_of_dom_vertices</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">dom_ver_1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_ver_2</span><span class="o">&gt;</span><span class="p">]</span>
                 <span class="o">&lt;</span><span class="n">dom_edge_label</span><span class="o">&gt;</span>
                 <span class="o">&lt;</span><span class="n">number_of_dom_tess_edges</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">edge_1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">edge_2</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="o">...</span>
  <span class="o">*</span><span class="n">face</span>
   <span class="o">&lt;</span><span class="n">total_number_of_dom_faces</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">dom_face_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">number_of_dom_vertices</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_ver_1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_ver_2</span><span class="o">&gt;</span> <span class="o">...</span>
                 <span class="o">&lt;</span><span class="n">number_of_dom_edges</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_edge_1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_edge_2</span><span class="o">&gt;</span> <span class="o">...</span>
                 <span class="o">&lt;</span><span class="n">dom_face_type</span><span class="o">&gt;</span>
                 <span class="o">&lt;</span><span class="n">number_of_params</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_face_param1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_face_param2</span><span class="o">&gt;</span> <span class="o">...</span>
                 <span class="o">&lt;</span><span class="n">dom_face_label</span><span class="o">&gt;</span>
                 <span class="o">&lt;</span><span class="n">number_of_dom_tess_faces</span><span class="o">&gt;</span>
                 <span class="o">&lt;</span><span class="n">dom_tess_face_1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dom_tess_face_2</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="o">...</span>
 <span class="o">**</span><span class="n">periodic</span>
  <span class="o">*</span><span class="n">general</span>
   <span class="o">&lt;</span><span class="n">per_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_z</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">per_dist_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_dist_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_dist_z</span><span class="o">&gt;</span>
  <span class="o">*</span><span class="n">seed</span>
   <span class="o">&lt;</span><span class="n">secondary_seed_qty</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">secondary_seed_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">primary_seed_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_z</span><span class="o">&gt;</span>
  <span class="o">...</span>
  <span class="o">*</span><span class="n">vertex</span>
   <span class="o">&lt;</span><span class="n">secondary_ver_qty</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">secondary_ver_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">primary_ver_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_z</span><span class="o">&gt;</span>
  <span class="o">...</span>
  <span class="o">*</span><span class="n">edge</span>
   <span class="o">&lt;</span><span class="n">secondary_edge_qty</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">secondary_edge_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">primary_edge_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">secondary_edge_ori</span><span class="o">&gt;</span>
  <span class="o">...</span>
  <span class="o">*</span><span class="n">face</span>
   <span class="o">&lt;</span><span class="n">secondary_face_qty</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">secondary_face_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">primary_face_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_y</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">per_shift_z</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">secondary_face_ori</span><span class="o">&gt;</span>
  <span class="o">...</span>
 <span class="o">**</span><span class="n">scale</span>
  <span class="o">*</span><span class="n">general</span>
   <span class="o">&lt;</span><span class="n">number_of_scales</span><span class="o">&gt;</span>
  <span class="o">*</span><span class="n">cellid</span>
   <span class="o">&lt;</span><span class="n">cell1_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell1_scale1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell1_scale2</span><span class="o">&gt;</span> <span class="o">...</span>
  <span class="o">...</span>
<span class="o">***</span><span class="n">end</span>
</pre></div>
</div>
<p>where (with identifiers being integer numbers),</p>
<ul class="simple">
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">***tess</span></code> denotes the beginning of a tessellation file.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**format</span></code> denotes the beginning of the format field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">format</span></code> is the file format, currently <cite>2.0</cite> (character string).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**general</span></code> denotes the beginning of the general information field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dim</span></code> is the dimension of the tessellation (1, 2 or 3).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">type</span></code> is the type of tessellation (always <code class="xref c c-data docutils literal notranslate"><span class="pre">standard</span></code>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**cell</span></code> denotes the beginning of the cell field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_cells</span></code> is the number of cells.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*id</span></code> denotes the beginning of an optional identifier field.  It the field is not present, the cells are considered to be numbered contiguously from 1.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cell1_id</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cell2_id</span></code>, … are the actual identifiers of the cells.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*lam</span></code> denotes the beginning of an optional lamella identifier field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cell1_lam</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cell2_lam</span></code>, … are the lamella identifiers of the cells.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*mode</span></code> denotes the beginning of an optional mode identifier field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cell1_mode</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cell2_mode</span></code>, … are the mode identifiers of the cells.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">crysym</span></code> is the crystal symmetry (<code class="xref c c-data docutils literal notranslate"><span class="pre">triclinic</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cubic</span></code> or <code class="xref c c-data docutils literal notranslate"><span class="pre">hexagonal</span></code>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*seed</span></code> denotes the beginning of a seed field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">seed_id</span></code> is the identifier of a seed and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_cells</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">seed_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">seed_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">seed_z</span></code> are the three coordinates of a seed (real numbers).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">seed_weight</span></code> is the weight of a seed (real number).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*ori</span></code> denotes the beginning of an optional crystal orientation field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">descriptor</span></code> is the descriptor used to parameterize the crystal orientations.  See <a class="reference internal" href="exprskeys.html#rotations-and-orientations"><span class="std std-ref">Rotations and Orientations</span></a> for the list of available descriptors.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_param1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_param2</span></code>, … are the values of the orientation descriptor of cell <cite>id</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*orispread</span></code> denotes the beginning of an optional crystal orientation distribution field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_spread</span></code> is the value of the orientation distribution of cell <cite>id</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**vertex</span></code> denotes the beginning of the vertex field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_vertices</span></code> is the total number of vertices.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">ver_id</span></code> is the identifier of a vertex and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_vertices</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">ver_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">ver_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">ver_z</span></code> are the three coordinates of a vertex (real numbers).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">ver_state</span></code> is an integer indicating the state of a vertex. For a standard tessellation (no regularization), it equals <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code>.  For a regularized tessellation, it equals <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code> if the vertex has not been modified by regularization and is higher than <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code> otherwise.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**edge</span></code> denotes the beginning of the edge field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_edges</span></code> is the total number of edges.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">edge_id</span></code> is the identifier of an edge and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_edges</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">ver_1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">ver_2</span></code>, … are identifiers of vertices.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">edge_state</span></code> is an integer indicating the state of an edge (always <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**face</span></code> denotes the beginning of the face field. It is present for a tessellation of dimension 2 or 3.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_faces</span></code> is the total number of faces.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">face_id</span></code> is the identifier of a face and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_faces</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_vertices</span></code> is the number of vertices of a face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_edges</span></code> is the number of edges of a face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">edge_1*</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">edge_2*</span></code>, … are identifiers of the edges of a face, signed according to their orientation in the face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_a</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_b</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_c</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_d</span></code> are the parameters of the equation of a face: <img class="math" src="_images/math/bad62ab395a2917275c69b43872f2b664c892611.png" alt="a \, x + b \, y + c \, z = d"/> with <img class="math" src="_images/math/a942cbd8d1c5516929272175688a466c56498431.png" alt="a^2+b^2+c^2=1"/>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">face_state</span></code> is an integer indicating the state of a face. For a standard tessellation (no regularization), it equals <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code>.  For a regularized tessellation, it equals <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code> if it has not been modified by regularization and <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> otherwise.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">face_point</span></code> is an integer indicating the point used for the interpolation of a face. For a standard tessellation (no regularization), it equals <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code>.  For a regularized tessellation: if the point is the face barycenter, it equals <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code>; if the point is one of the face vertices, it equals to the position of the vertex in the list of vertices of the face. It equals <code class="xref c c-data docutils literal notranslate"><span class="pre">-1</span></code> if the point is undefined.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">face_point_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">face_point_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">face_point_z</span></code> are the coordinates of the point used for the interpolation of a face (equal <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code> if undefined).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**polyhedron</span></code> denotes the beginning of the polyhedron field.  It is present for a tessellation of dimension 3.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_polyhedra</span></code> is the total number of polyhedra.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">poly_id</span></code> is the identifier of a polyhedron and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_polyhedra</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_faces</span></code> is the number of faces of a polyhedron.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">face_1*</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">face_2*</span></code>, … are identifiers of the faces of a polyhedron, signed according to their orientations in the polyhedron (positive if the normal of the face is pointing outwards and negative if it is pointing inwards).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**domain</span></code> denotes the beginning of the domain field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*general</span></code> denotes the beginning of the domain general information field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_type</span></code> is the type of the domain (one of <code class="xref c c-data docutils literal notranslate"><span class="pre">cube</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cylinder</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">square</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">circle</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">poly</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">planes</span></code>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*vertex</span></code> denotes the beginning of the domain vertex field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_dom_vertices</span></code> is the total number of domain vertices.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_ver_id</span></code> is the identifier of a domain vertex and ranges between <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_dom_vertices</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_ver_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">dom_ver_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">dom_ver_z</span></code> are the three coordinates of a domain vertex (real numbers).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_ver_label</span></code> is the label of a domain vertex, formatted as <code class="xref c c-data docutils literal notranslate"><span class="pre">x0y0z0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">x1y0z0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">x0y1z0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">x1y1z0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">x0y0z1</span></code>, … (for a cubic domain).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_dom_tess_vertices</span></code> is the number of tessellation vertices of a domain vertex (must be 1).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*edge</span></code> denotes the beginning of the domain edge field (for a tessellation of dimension 2 or 3).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_dom_edges</span></code> is the total number of domain edges.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_edge_id</span></code> is the identifier of a domain edge and ranges between <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_dom_edges</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_dom_vertices</span></code> is the number of domain vertices of a domain edge or a domain face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_ver_1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">dom_ver_2</span></code>, … are identifiers of the domain vertices of a domain edge or face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_edge_label</span></code> is the label of a domain edge, formatted as <code class="xref c c-data docutils literal notranslate"><span class="pre">x0y0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">x0y1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">x1y0</span></code>, … (for a cubic domain).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_dom_tess_edges</span></code> is the number of tessellation edges of a domain edge.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*face</span></code> denotes the beginning of the domain face field (for a tessellation of dimension 3).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_dom_faces</span></code> is the total number of domain faces.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_face_id</span></code> is the identifier of a domain face and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">total_number_of_dom_faces</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_dom_edges</span></code> is the number of domain edges of a domain face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_edge_1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">dom_edge_2</span></code>, … are identifiers of the domain edges of a domain face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_face_type</span></code> is the type of a face, among <cite>plane</cite>, <cite>cylinder</cite> or <cite>sphere</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_params</span></code> is the number of parameters of a domain face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_face_param1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">dom_face_param2</span></code>, … are the parameters of a domain face.  For a planar face, they are the parameters of the equation of the face, listed in the order <code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_d</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_a</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_b</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">face_eq_c</span></code>.  For a cylindrical face, they are the coordinates of the base point, the axis and the radius.  For a spherical face, they are the coordinates of the center and the radius.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_face_label</span></code> is the label of a domain face, formatted as <code class="xref c c-data docutils literal notranslate"><span class="pre">x0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">x1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">y0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">y1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">z0</span></code> or <code class="xref c c-data docutils literal notranslate"><span class="pre">z1</span></code> (for a cubic domain).  For a cylindrical domain, it is formatted as <code class="xref c c-data docutils literal notranslate"><span class="pre">z0</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">z1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">f1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">f2</span></code>, … Otherwise, it is one of <code class="xref c c-data docutils literal notranslate"><span class="pre">f1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">f2</span></code>, …  Edge and vertex labels are derived accordingly.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_dom_tess_faces</span></code> is the number of tessellation faces of a domain face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dom_tess_face_1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">dom_tess_face_2</span></code>, … are the identifiers of the tessellation faces of a domain face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">***end</span></code> denotes the end of a tessellation file.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**periodicity</span></code> denotes the beginning of the periodicity field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*general</span></code> denotes the beginning of the periodicity general information field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">per_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">per_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">per_z</span></code> are booleans indicating x, y, and z periodicity.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">per_dist_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">per_dist_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">per_dist_z</span></code> are the periodicity distances along x, y, and z.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*seed</span></code> denotes the beginning of the periodicity seed field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_seed_qty</span></code> is the number of secondary seeds.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_seed_id</span></code> is the identifier of a secondary seed.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">primary_seed_id</span></code> is the identifier of the primary of a secondary seed.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">per_shift_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">per_shift_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">per_shift_z</span></code> are the shifts of a secondary seed (or vertex, etc.) relative to its primary, along x, y and z.  The values can be -1, 0 or 1.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*vertex</span></code> denotes the beginning of the periodicity vertex field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_vertex_qty</span></code> is the number of secondary vertices.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_vertex_id</span></code> is the identifier of a secondary vertex.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">primary_vertex_id</span></code> is the identifier of the primary of a secondary vertex.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*edge</span></code> denotes the beginning of the periodicity edge field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_edge_qty</span></code> is the number of secondary edges.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_edge_id</span></code> is the identifier of a secondary edge.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">primary_edge_id</span></code> is the identifier of the primary of a secondary edge.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_edge_ori</span></code> is the orientation of the secondary edge with respect to the primary edge: <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> if identical, <code class="xref c c-data docutils literal notranslate"><span class="pre">-1</span></code> if opposite.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*face</span></code> denotes the beginning of the periodicity face field (for a tessellation of dimension 3).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_face_qty</span></code> is the number of secondary faces.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_face_id</span></code> is the identifier of a secondary face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">primary_face_id</span></code> is the identifier of the primary of a secondary face.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_face_ori</span></code> is the orientation of the secondary face with respect to the primary face: <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> if identical, <code class="xref c c-data docutils literal notranslate"><span class="pre">-1</span></code> if opposite.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_scales</span></code> is the number of scales.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cell1_scale1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cell1_scale2</span></code>, … are the identifiers of the cells of the scale-1, scale-2, … tessellations which the cell belongs to.</li>
</ul>
</div>
<div class="section" id="raster-tessellation-file-tesr">
<span id="tesr-file"></span><h2>Raster Tessellation File (<code class="file docutils literal notranslate"><span class="pre">.tesr</span></code>)<a class="headerlink" href="#raster-tessellation-file-tesr" title="Permalink to this headline">¶</a></h2>
<p>Here are details on the <code class="file docutils literal notranslate"><span class="pre">.tesr</span></code> file format version <code class="xref c c-data docutils literal notranslate"><span class="pre">2.1</span></code> (format <code class="xref c c-data docutils literal notranslate"><span class="pre">2.0</span></code> was used up to version 4.1.2 and can still be read).  Developers should note that read and write functions are available as <code class="code docutils literal notranslate"><span class="pre">neut_tesr_fscanf</span></code> and <code class="code docutils literal notranslate"><span class="pre">neut_tesr_fprintf</span></code>, defined in directories <code class="file docutils literal notranslate"><span class="pre">neut/neut_tesr/neut_tesr_fscanf</span></code> and <code class="file docutils literal notranslate"><span class="pre">neut/neut_tesr/neut_tesr_fprintf</span></code>.  Compared to a tessellation file (<code class="file docutils literal notranslate"><span class="pre">.tess</span></code>), a raster tessellation file in enriched by cell morphological properties (centroids, etc.) as they are computed by option <a class="reference internal" href="neper_t.html#cmdoption-statcell"><code class="xref std std-option docutils literal notranslate"><span class="pre">-statcell</span></code></a>, which makes it possible to later retrieve them rapidly.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">***</span><span class="n">tesr</span>
 <span class="o">**</span><span class="nb">format</span>
   <span class="o">&lt;</span><span class="nb">format</span><span class="o">&gt;</span>
 <span class="o">**</span><span class="n">general</span>
   <span class="o">&lt;</span><span class="n">dimension</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">size_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">size_y</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">size_z</span><span class="o">&gt;</span><span class="p">]</span>
   <span class="o">&lt;</span><span class="n">voxsize_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">voxsize_y</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">voxsize_z</span><span class="o">&gt;</span><span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">origin</span>
    <span class="o">&lt;</span><span class="n">origin_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">origin_y</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">origin_z</span><span class="o">&gt;</span><span class="p">]]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">hasvoid</span> <span class="o">&lt;</span><span class="n">has_void</span><span class="o">&gt;</span><span class="p">]</span>
<span class="p">[</span><span class="o">**</span><span class="n">cell</span>
   <span class="o">&lt;</span><span class="n">number_of_cells</span><span class="o">&gt;</span>
 <span class="p">[</span><span class="o">*</span><span class="nb">id</span>
    <span class="o">&lt;</span><span class="n">cell1_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell2_id</span><span class="o">&gt;</span> <span class="o">...</span><span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">seed</span>
   <span class="o">&lt;</span><span class="n">seed_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">seed_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">seed_y</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">seed_z</span><span class="o">&gt;</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">seed_weight</span><span class="o">&gt;</span>
    <span class="o">...</span><span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">ori</span>
   <span class="o">&lt;</span><span class="n">descriptor</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">cell1_param1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell1_param2</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="o">&lt;</span><span class="n">cell2_param1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell2_param2</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="o">...</span><span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">orispread</span>
   <span class="o">&lt;</span><span class="n">cellid_spread</span><span class="o">&gt;</span>
   <span class="o">...</span> <span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">coo</span>
   <span class="o">&lt;</span><span class="n">cell1_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell1_y</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">cell1_z</span><span class="o">&gt;</span><span class="p">]</span>
   <span class="o">&lt;</span><span class="n">cell2_x</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cell2_y</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">cell2_z</span><span class="o">&gt;</span><span class="p">]</span>
   <span class="o">...</span><span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">vol</span>
   <span class="o">&lt;</span><span class="n">cell1_vol</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">cell2_vol</span><span class="o">&gt;</span>
   <span class="o">...</span><span class="p">]</span>
 <span class="p">[</span><span class="o">*</span><span class="n">convexity</span>
   <span class="o">&lt;</span><span class="n">cell1_convexity</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">cell2_convexity</span><span class="o">&gt;</span>
   <span class="o">...</span><span class="p">]</span>
<span class="p">]</span>
<span class="p">[</span><span class="o">*</span><span class="n">crysym</span>
   <span class="o">&lt;</span><span class="n">crysym</span><span class="o">&gt;</span>
<span class="p">]</span>
 <span class="o">**</span><span class="n">data</span>
   <span class="o">&lt;</span><span class="n">data_format</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">vox1_cell</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">vox2_cell</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="ow">or</span>
  <span class="o">*</span><span class="n">file</span> <span class="o">&lt;</span><span class="n">data_file_name</span><span class="o">&gt;</span>
<span class="p">[</span><span class="o">**</span><span class="n">oridata</span>
   <span class="o">&lt;</span><span class="n">descriptor</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">oridata_format</span><span class="o">&gt;</span>
   <span class="o">&lt;</span><span class="n">vox1_param1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">vox1_param2</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="o">&lt;</span><span class="n">vox2_param1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">vox2_param2</span><span class="o">&gt;</span> <span class="o">...</span>
   <span class="ow">or</span>
   <span class="o">&lt;</span><span class="n">descriptor</span><span class="o">&gt;</span>
  <span class="o">*</span><span class="n">file</span> <span class="o">&lt;</span><span class="n">oridata_file_name</span><span class="o">&gt;</span>
<span class="p">]</span>
<span class="o">***</span><span class="n">end</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">***tesr</span></code> denotes the beginning of a raster tessellation file.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**format</span></code> denotes the beginning of the format field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">format</span></code> is the file format, currently <cite>2.0</cite> (character string).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**general</span></code> denotes the beginning of the general information field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">dimension</span></code> is the dimension of the raster tessellation.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">size_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">size_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">size_z</span></code> are the raster sizes along the coordinate axes. The number of sizes must match <cite>dimension</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">voxsize_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">voxsize_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">voxsize_z</span></code> are the voxel (pixel, in 2D) sizes along the coordinate axes.  The number of sizes must match <cite>dimension</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*origin</span></code> denotes the beginning of an optional origin field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">origin_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">origin_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">origin_z</span></code> are the (absolute) coordinates of the origin of the raster tessellation along the coordinate axes.  The number of coordinates must match <cite>dimension</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*hasvoid</span></code> denotes the beginning of an optional has-void field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">has_void</span></code> is a boolean indicating whether the tessellation contains void voxels (which have a cell id of 0).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**cell</span></code> denotes the beginning of an optional cell field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_cells</span></code> is the number of cells.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*id</span></code> denotes the beginning of an optional identifier field.  If the field is present, the cell identifiers listed under <code class="xref c c-data docutils literal notranslate"><span class="pre">**data</span></code> are supposed to be numbered contiguously from 1 (or 0 in case of void), and their actual identifiers are considered to be the ones provided in the list.  The actual identifiers are used in output files.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cell1_id</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cell2_id</span></code>, … are the actual identifiers of the cells.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*seed</span></code> denotes the beginning of a seed field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">seed_id</span></code> is the identifier of a seed and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_cells</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">seed_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">seed_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">seed_z</span></code> are the three coordinates of a seed (real numbers).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">seed_weight</span></code> is the weight of a seed (real number).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*ori</span></code> denotes the beginning of an optional crystal orientation field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">descriptor</span></code> is the descriptor used to parametrize the crystal orientations.  See <a class="reference internal" href="exprskeys.html#rotations-and-orientations"><span class="std std-ref">Rotations and Orientations</span></a> for the list of available descriptors.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_param1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_param2</span></code>, … are the values of the orientation descriptor of cell <cite>id</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*orispread</span></code> denotes the beginning of an optional crystal orientation distribution field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_spread</span></code> is the value of the orientation distribution of cell <cite>id</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*coo</span></code> denotes the beginning of an optional centroid field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_z</span></code> are the coordinates of the centroids of cell <cite>id</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*vol</span></code> denotes the beginning of an optional volume field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_vol</span></code> is the volume of cell <cite>id</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*convexity</span></code> denotes the beginning of an optional convexity field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">cellid_convexity</span></code> is the convexity of cell <cite>id</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*crysym</span></code> denotes the beginning of an optional crystal symmetry field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">crysym</span></code> is the crystal symmetry (<code class="xref c c-data docutils literal notranslate"><span class="pre">triclinic</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">cubic</span></code> or <code class="xref c c-data docutils literal notranslate"><span class="pre">hexagonal</span></code>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**data</span></code> denotes the beginning of the data field.  Data can be provided in the <code class="file docutils literal notranslate"><span class="pre">.tesr</span></code> file or in a separate file, using <code class="xref c c-data docutils literal notranslate"><span class="pre">*file</span></code>, see below.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">data_format</span></code> is the format of the data. It can be either <code class="xref c c-data docutils literal notranslate"><span class="pre">ascii</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">binary8</span></code> (8-bit binary), <code class="xref c c-data docutils literal notranslate"><span class="pre">binary16</span></code> (16-bit binary, Little-Endian), <code class="xref c c-data docutils literal notranslate"><span class="pre">binary16_big</span></code> (16-bit binary, Big-Endian), <code class="xref c c-data docutils literal notranslate"><span class="pre">binary32</span></code> (32-bit binary, Little-Endian) or <code class="xref c c-data docutils literal notranslate"><span class="pre">binary32_big</span></code> (32-bit binary, Big-Endian).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">voxid_cell</span></code> is the cell voxel <code class="xref c c-data docutils literal notranslate"><span class="pre">id</span></code> belongs to.  Voxels must be listed in column-major order (x varying first, y varying second and z varying last).  The cell identifiers should start from 1. Use 0 for voids.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">*file</span></code> denotes the beginning of a file field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">data_file_name</span></code> is the name of a file that contains the data.  It must be located in the same directory as the parent tesr file, or its path relative to the parent tesr file must be provided. Typically, it is a <code class="file docutils literal notranslate"><span class="pre">.raw</span></code> file.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">**oridata</span></code> denotes the beginning of the orientation data field.  Data can be provided in the <code class="file docutils literal notranslate"><span class="pre">.tesr</span></code> file or in a separate file, using <code class="xref c c-data docutils literal notranslate"><span class="pre">*file</span></code>, see below.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">oridata_format</span></code> is the format of the data. It can be either <code class="xref c c-data docutils literal notranslate"><span class="pre">ascii</span></code> or <code class="xref c c-data docutils literal notranslate"><span class="pre">binary</span></code> (double-precision number).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">voxid_param1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">voxid_param2</span></code>, … are the values of the orientation descriptor of voxel <cite>id</cite>. Orientations must be listed in column-major order (x varying first, y varying second and z varying last). Arbitrary orientations can be used for void voxels (<code class="xref c c-data docutils literal notranslate"><span class="pre">voxid_cell</span></code> = 0`). These data must be written under format <cite>data_format</cite>, in terms of ASCII or binary. In the case of binary format, double-precision numbers are considered.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">oridata_file_name</span></code> is the name of a file that contains the orientation data.   It must be located in the same directory as the parent tesr file, or its path relative to the parent tesr file must be provided.  Typically, it is a <code class="file docutils literal notranslate"><span class="pre">.raw</span></code> file.</li>
</ul>
</div>
<div class="section" id="multiscale-cell-file">
<span id="id1"></span><h2>Multiscale Cell File<a class="headerlink" href="#multiscale-cell-file" title="Permalink to this headline">¶</a></h2>
<p>A multiscale cell file provides cell-by-cell values for a multiscale tessellation and can be loaded using <code class="xref c c-data docutils literal notranslate"><span class="pre">msfile(&lt;file_name&gt;)</span></code> <a class="footnote-reference" href="#msfile" id="id2">[1]</a>. The file contains, for each cell, its <em>multiscale identifier</em>, <code class="xref c c-data docutils literal notranslate"><span class="pre">mid</span></code>, and the value(s).  A <em>cell multiscale identifier</em> (<cite>mid</cite>) is a character string identifying a cell at a specific scale.  For a given cell, C, <code class="xref c c-data docutils literal notranslate"><span class="pre">mid</span></code> combines the identifiers of the cells that C belongs to, at successive scales, to its own <code class="xref c c-data docutils literal notranslate"><span class="pre">id</span></code>, separated by <code class="xref c c-data docutils literal notranslate"><span class="pre">::</span></code>.  For a 1-scale tessellation, <code class="xref c c-data docutils literal notranslate"><span class="pre">mid</span></code> equals <code class="xref c c-data docutils literal notranslate"><span class="pre">id</span></code>.  For a 2-scale tessellation composed of <img class="math" src="_images/math/9575c16fd076ca8897256b091cde7296fd0f2c18.png" alt="2 \times 3"/> cells, the <code class="xref c c-data docutils literal notranslate"><span class="pre">mid</span></code> values are equal to <code class="xref c c-data docutils literal notranslate"><span class="pre">1::1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">1::2</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">1::3</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">2::1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">2::2</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">2::3</span></code>.  The domain (which can be considered as a cell at scale 0), <code class="xref c c-data docutils literal notranslate"><span class="pre">mid</span></code> is nil.  An example of a multiscale cell file that could be used to define the numbers of cells of a 3-scale tessellation is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span>
<span class="mi">1</span> <span class="mi">2</span>
<span class="mi">2</span> <span class="mi">4</span>
<span class="mi">1</span><span class="p">::</span><span class="mi">1</span> <span class="mi">3</span>
<span class="mi">1</span><span class="p">::</span><span class="mi">2</span> <span class="mi">4</span>
<span class="mi">2</span><span class="p">::</span><span class="mi">1</span> <span class="mi">5</span>
<span class="mi">2</span><span class="p">::</span><span class="mi">2</span> <span class="mi">6</span>
<span class="mi">2</span><span class="p">::</span><span class="mi">3</span> <span class="mi">7</span>
<span class="mi">2</span><span class="p">::</span><span class="mi">4</span> <span class="mi">8</span>
</pre></div>
</div>
<p>The file could be used in <code class="xref c c-data docutils literal notranslate"><span class="pre">-T</span></code> as <code class="xref c c-data docutils literal notranslate"><span class="pre">-n</span> <span class="pre">msfile(&lt;file_name&gt;)::msfile(&lt;file_name&gt;)::msfile(&lt;file_name&gt;)</span></code>.  The first instance of <code class="xref c c-data docutils literal notranslate"><span class="pre">msfile(&lt;file_name&gt;)</span></code> reads the number of scale-1 cells in line 1, the second instance of <code class="xref c c-data docutils literal notranslate"><span class="pre">msfile(&lt;file_name&gt;)</span></code> reads the number of scale-2 cells in lines 2–3, and the third  instance of <code class="xref c c-data docutils literal notranslate"><span class="pre">msfile(&lt;file_name&gt;)</span></code> reads the number of scale-3 cells in lines 4–7.</p>
</div>
<div class="section" id="data-file">
<span id="id3"></span><h2>Data File<a class="headerlink" href="#data-file" title="Permalink to this headline">¶</a></h2>
<p>A data file provides a number of data to be assigned to seeds, cells, points, etc.  It must contain the expected number of data.  It is a general, simply-formatted ASCII file that only contains one data per entity, and the data can be an integer or a real number.  A real number can have an arbitrary number of digits, but the decimal mark must be <code class="xref c c-data docutils literal notranslate"><span class="pre">.</span></code>.  The data can be separated from each other by spaces, tabulators or newlines (any number as well as arbitrary combinations of them are supported).  However, a good practice is to format the file with one data per line.  An example of a data file containing 5 points in 3D is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2.1235</span>
<span class="mf">5.9564</span>
<span class="mf">2.2547</span>
<span class="mf">8.2515</span>
<span class="mf">0.5874</span>
</pre></div>
</div>
</div>
<div class="section" id="position-file">
<span id="id4"></span><h2>Position File<a class="headerlink" href="#position-file" title="Permalink to this headline">¶</a></h2>
<p>A position file lists the coordinates of a given number of points.  The file must contain 1 coordinate per point in 1D, 2 coordinates per point in 2D and 3 coordinates per point in 3D.  While the dimension can be known from the context in which the file is read, it can also be specified by appending <code class="xref c c-data docutils literal notranslate"><span class="pre">:dim</span></code> to the name of the position file, where <code class="xref c c-data docutils literal notranslate"><span class="pre">dim</span></code> is the dimension.  A coordinate can be an integer or real number. A real number can have an arbitrary number of digits, but the decimal mark must be <code class="xref c c-data docutils literal notranslate"><span class="pre">.</span></code>.  The coordinates can be separated from each other by spaces, tabulators or newlines (any number as well as arbitrary combinations of them are supported).  However, a good practice is to format the file with one point per line.  An example of a position file containing 5 points in 3D is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2.1235</span> <span class="mf">9.4544</span> <span class="mf">5.2145</span>
<span class="mf">5.9564</span> <span class="mf">3.6884</span> <span class="mf">9.2145</span>
<span class="mf">2.2547</span> <span class="mf">3.2658</span> <span class="mf">8.2514</span>
<span class="mf">8.2515</span> <span class="mf">9.4157</span> <span class="mf">2.9454</span>
<span class="mf">0.5874</span> <span class="mf">4.2848</span> <span class="mf">2.4874</span>
</pre></div>
</div>
</div>
<div class="section" id="mesh-file-msh">
<span id="mesh-file"></span><h2>Mesh File (<code class="file docutils literal notranslate"><span class="pre">.msh</span></code>)<a class="headerlink" href="#mesh-file-msh" title="Permalink to this headline">¶</a></h2>
<p>Here are details on the native <code class="file docutils literal notranslate"><span class="pre">.msh</span></code> (adapted from Gmsh’s msh format version <code class="xref c c-data docutils literal notranslate"><span class="pre">2.2</span></code>).  Developers should note that read and write functions are available as <cite>neut_msh_fscanf</cite> and <cite>neut_msh_fprintf</cite>, defined in directories <code class="file docutils literal notranslate"><span class="pre">neut/neut_msh/neut_msh_fscanf</span></code> and <code class="file docutils literal notranslate"><span class="pre">neut/neut_msh/neut_msh_fprintf</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$MeshFormat
2.2 &lt;file_type&gt; &lt;data_size&gt;
$EndMeshFormat
$MeshVersion
2.2 &lt;mesh_version&gt;
$EndMeshVersion
$Domain
&lt;domain&gt;
$EndDomain
$Topology
&lt;reconstruct_topology&gt;
$EndTopology
$Nodes
&lt;number_of_nodes&gt;
&lt;node_id&gt; &lt;node_x&gt; &lt;node_y&gt; &lt;node_z&gt;
...
$EndNodes
$Elements
&lt;number_of_elements&gt;
&lt;elt_id&gt; &lt;elt_type&gt; &lt;number_of_tags&gt; &lt;tag1&gt; ... &lt;elt_id_node1&gt; ...
...
$EndElements
$Periodicity
&lt;number_of_periodicities&gt;
&lt;secondary_node_id&gt; &lt;primary_node_id&gt; &lt;per_vect_x&gt; &lt;per_vect_y&gt; &lt;per_vect_z&gt;
...
$EndPeriodicity
$NSets
&lt;number_of_nsets&gt;
&lt;nset1_label&gt;
&lt;nset_node_nb&gt;
&lt;nset_node1&gt;
&lt;nset_node2&gt;
...
&lt;nset2_label&gt;
...
$EndNSets
$Fasets
&lt;number_of_fasets&gt;
&lt;faset1_label&gt;
&lt;faset_elt_nb&gt;
&lt;faset_elt_id&gt; &lt;faset_elt_id_node1&gt; ...
...
&lt;faset2_label&gt;
...
$EndFasets
$NodePartitions
&lt;number_of_nodes&gt;
&lt;node_id&gt; &lt;node_partition&gt;
...
$EndNodePartitions
$PhysicalNames
&lt;number_of_physical_names&gt;
&lt;physical_dimension&gt; &lt;physical_id&gt; &lt;physical_name&gt;
...
$EndPhysicalNames
$ElsetOrientations
&lt;number_of_elsets&gt; &lt;orientation_descriptor&gt;
&lt;elset_id&gt; &lt;ori_des1&gt; ...
...
$EndOrientations
$ElementOrientations
&lt;number_of_elements&gt; &lt;orientation_descriptor&gt;
&lt;element_id&gt; ori_des1&gt; ...
...
$EndElementOrientations
$Groups
&lt;group_entity&gt;
&lt;number_of_group_entities&gt;
&lt;entity_id group&gt;
...
$EndGroups
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$MeshFormat</span></code> denotes the beginning of a mesh format field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">file_type</span></code> is equal to <code class="xref c c-data docutils literal notranslate"><span class="pre">0</span></code> for an ASCII file and <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> for a binary file.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">data_size</span></code> is an integer equal to the size of the floating point numbers used in the file (= <code class="xref c c-data docutils literal notranslate"><span class="pre">sizeof</span> <span class="pre">(double)</span></code>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndMeshFormat</span></code> denotes the end of a mesh format field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$MeshVersion</span></code> denotes the beginning of a mesh version field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">mesh_version</span></code> is the mesh file version (currently <code class="xref c c-data docutils literal notranslate"><span class="pre">2.2.2</span></code>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndMeshVersion</span></code> denotes the end of a mesh version field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$Domain</span></code> denotes the beginning of an optional domain field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">domain</span></code> is the domain.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndDomain</span></code> denotes the end of an optional domain field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$Topology</span></code> denotes the beginning of an optional topology field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">reconstruct_topology</span></code> is a boolean indicating whether the topology is to be reconstructed upon parsing or not (use <cite>0</cite> to solve parsing issues).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndTopology</span></code> denotes the end of an optional topology field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$Nodes</span></code> denotes the beginning of a node field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_nodes</span></code> is the number of nodes.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">node_id</span></code> is the identifier of a node and ranges from <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> to <code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_nodes</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">node_x</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">node_y</span></code> and <code class="xref c c-data docutils literal notranslate"><span class="pre">node_z</span></code> are the three coordinates of a node (real numbers).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndNodes</span></code> denotes the end of a node field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$Elements</span></code> denotes the beginning of an element field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_elements</span></code> is the number of elements.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">elt_type</span></code> is an integer specifying the type of elements: <code class="xref c c-data docutils literal notranslate"><span class="pre">15</span></code> for a 0D element, <code class="xref c c-data docutils literal notranslate"><span class="pre">1</span></code> for a 1st-order 1D element (2 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">8</span></code> for a 2nd-order 1D element (3 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">2</span></code> for a 1st-order triangular element (3 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">3</span></code> for a 1st-order quadrangular element (4 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">9</span></code> for a 2nd-order triangular element (6 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">16</span></code> for a 2nd-order quadrangular element (8 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">10</span></code> for a 2nd-order quadrangular element (9 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">4</span></code> for a 1st-order tetrahedral element (4 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">5</span></code> for a 1st-order hexahedral element (8 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">11</span></code> for a 2nd-order tetrahedral element (10 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">17</span></code> for a 2nd-order hexahedral element (20 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">6</span></code> for a 1st-order prismatic element (6 nodes), <code class="xref c c-data docutils literal notranslate"><span class="pre">18</span></code> for a 2nd-order prismatic element (15 nodes).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_tags</span></code> is the number of tags, and <code class="xref c c-data docutils literal notranslate"><span class="pre">tag1</span></code>, … are the tags.  In the general case, the number of tags is equal to 3, the first and second tags are the elset and the third tag is the element partition.  The mesh partition is non-zero only for the higher-dimension elements of a mesh which was previously partitioned.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">elt_id_node1</span></code>, … are the nodes associated to an element.  The number of nodes depends on the element type (<cite>elt_type</cite>).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndElements</span></code> denotes the end of an element field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$Periodicity</span></code> denotes the beginning of a periodicity field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_periodicities</span></code> is the number of periodicities.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">primary_node_id</span></code> is the identifier of the primary node.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">secondary_node_id</span></code> is the identifier of the secondary node.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">per_vect_x</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">per_vect_y</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">per_vect_z</span></code> are the scaled components of the vector going from the primary node to the secondary node (-1, 0 or 1).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndPeriodicity</span></code> denotes the end of a periodicity field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$NSets</span></code> denotes the beginning of an nset field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_nsets</span></code> is the number of nsets.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">nset1_label</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">nset2_label</span></code>, … are the labels of the nsets.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">nset_node_nb</span></code> is the number of nodes of an nset.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">nset_node_id1</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">nset_node_id1</span></code>, … are the identifiers of the nodes of an nset.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndNSets</span></code> denotes the end of an nset field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$Fasets</span></code> denotes the beginning of a faset field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_fasets</span></code> is the number of fasets.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">faset1_label</span></code>, <code class="xref c c-data docutils literal notranslate"><span class="pre">faset2_label</span></code>, … are the labels of the fasets.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">faset_elt_nb</span></code> is the number of elements of a faset.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">faset_elt_id</span></code>, … are the identifiers of the elements of a faset (3D elements adjacent to the boundary).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">faset_elt_id_node1</span></code>, … are the nodes of an element of a faset.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndFasets</span></code> denotes the end of a faset field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$NodePartitions</span></code> denotes the beginning of a node partition field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">nodeid_partition</span></code> is the partition of node <cite>id</cite> (ranging from 1 to the total number of partitions).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndNodePartitions</span></code> denotes the end of a node partition field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$PhysicalNames</span></code> denotes the beginning of a physical name field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_physical_names</span></code> is the number of physical names.  There are as many names as physical entities, and the physical entities correspond to all tessellation vertices, edges, faces and polyhedra (i.e., mesh 0D, 1D, 2D and 3D elsets).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">physical_dimension</span></code> is the dimension of a physical entity and can be equal to 0, 1, 2 or 3.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">physical_id</span></code> is the id of a physical entity.  It ranges from 1 to the number of 0D elsets (tessellation vertices) for the 0D entities, 1 to the number of 1D elsets (tessellation edges) for the 1D entities, 1 to the number of 2D elsets (tessellation faces) for the 2D entities and 1 to the number of 3D elsets (tessellation polyhedra) for the 3D entities.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">physical_name</span></code> is the name of a physical entity, under the form <cite>verid</cite> for 0D elsets (tessellation vertices), <code class="xref c c-data docutils literal notranslate"><span class="pre">edgeid</span></code> for 1D elsets (tessellation edges), <code class="xref c c-data docutils literal notranslate"><span class="pre">faceid</span></code> for 2D elsets (tessellation faces) and <code class="xref c c-data docutils literal notranslate"><span class="pre">polyid</span></code> for 3D elsets (tessellation polyhedra), where <code class="xref c c-data docutils literal notranslate"><span class="pre">id</span></code> ranges from 1 to the number of elsets.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndPhysicalNames</span></code> denotes the end of a physical name field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$ElsetOrientations</span></code> denotes the beginning of an elset orientation field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_elsets</span></code> is the number of elsets.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">orientation_descriptor</span></code> is the orientation descriptor.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">elset_id</span></code> is the elset id.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">ori_des1</span></code>, … is the orientation, following <code class="xref c c-data docutils literal notranslate"><span class="pre">orientation_descriptor</span></code>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndElsetOrientations</span></code> denotes the end of an elset orientation field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$ElementOrientations</span></code> denotes the beginning of an element orientation field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_elements</span></code> is the number of elements.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">element_id</span></code> is the element id.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndElementOrientations</span></code> denotes the end of an element orientation field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$Groups</span></code> denotes the beginning of a group field.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">group_entity</span></code> is the entity for which groups are defined, which must be <cite>elset</cite>.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">number_of_group_entities</span></code> is the number of group entities (number of elsets).</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">entity_id</span></code> is the id of an entity.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">group</span></code> is the group of the entity.</li>
<li><code class="xref c c-data docutils literal notranslate"><span class="pre">$EndGroups</span></code> denotes the end of a group field.</li>
</ul>
</div>
<div class="section" id="simulation-directory-sim">
<span id="simulation-directory"></span><h2>Simulation Directory (<code class="file docutils literal notranslate"><span class="pre">.sim</span></code>)<a class="headerlink" href="#simulation-directory-sim" title="Permalink to this headline">¶</a></h2>
<p>Here are details on the <code class="file docutils literal notranslate"><span class="pre">.sim</span></code> simulation directory (the <code class="file docutils literal notranslate"><span class="pre">.sim</span></code> extension is entirely optional).  The directory is structured as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>simulation.sim
|-- report
|-- inputs
|   |-- job.sh
|   |-- simulation.config
|   |-- simulation.msh
|   `-- simulation.tess
`-- results
    |-- elts
    |   |-- ori
    |   |   |-- ori.step0
    |   |   |-- ori.step1
    |   |   `-- ...
    |   `-- ...
    `-- nodes
        |-- coo
.       |   |-- coo.step0
.       |   |-- coo.step1
.       |   `-- ...
|       `-- ...
`-- [restart]
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><code class="file docutils literal notranslate"><span class="pre">report</span></code> is a report file containing information on the simulation and the content of the simulation directory.  This file is mainly for internal use.</li>
<li><code class="file docutils literal notranslate"><span class="pre">inputs</span></code> is an input file directory containing the tessellation file (<code class="file docutils literal notranslate"><span class="pre">.tess</span></code>, if found in the input directory), the mesh file (<code class="file docutils literal notranslate"><span class="pre">.msh</span></code>), the FEPX configuration file (<code class="file docutils literal notranslate"><span class="pre">.config</span></code>), and all script files (<code class="file docutils literal notranslate"><span class="pre">*.sh</span></code>, likely including a job submission file).</li>
<li><code class="file docutils literal notranslate"><span class="pre">results</span></code> is the result directory.</li>
<li><code class="file docutils literal notranslate"><span class="pre">results/nodes</span></code> is the node result directory.</li>
<li><code class="file docutils literal notranslate"><span class="pre">results/elts</span></code> is the element result directory.</li>
<li><code class="file docutils literal notranslate"><span class="pre">results/nodes/&lt;res&gt;</span></code> or <code class="file docutils literal notranslate"><span class="pre">results/elts/&lt;res&gt;</span></code> is the directory for result <code class="xref c c-data docutils literal notranslate"><span class="pre">&lt;res&gt;</span></code>. The directory contains one file per simulation step, named <code class="file docutils literal notranslate"><span class="pre">&lt;res&gt;.step&lt;nb&gt;</span></code>, where <code class="xref c c-data docutils literal notranslate"><span class="pre">nb</span></code> is the step number, ranging from 0 (for the initial state) to the total number of steps.</li>
<li><code class="file docutils literal notranslate"><span class="pre">restart</span></code> is the restart directory.  It is present only if <code class="xref c c-data docutils literal notranslate"><span class="pre">restart</span></code> was switched on in FEPX and contains raw FEPX restart files (requires FEPX version 1.2 or higher).</li>
</ul>
<p>Results can have integer values, real values, vectorial values or tensorial values. In the result files, values for the different entities (nodes, elements, etc.) are written on successive lines, with components written on successive columns (space delimited). The components of a vector, <code class="xref c c-data docutils literal notranslate"><span class="pre">v</span></code>, are written as <code class="xref c c-data docutils literal notranslate"><span class="pre">v1</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">v2</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">v3</span></code>. The components of a symmetrical tensor, <code class="xref c c-data docutils literal notranslate"><span class="pre">t</span></code>, are written using Voigt notation, as <code class="xref c c-data docutils literal notranslate"><span class="pre">t11</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t22</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t33</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t23</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t31</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t12</span></code>. The components of a skwe-symmetrical tensor, <code class="xref c c-data docutils literal notranslate"><span class="pre">t</span></code>, are written using <code class="xref c c-data docutils literal notranslate"><span class="pre">t12</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t13</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t23</span></code>. The components of a non-symmetrical tensor, <code class="xref c c-data docutils literal notranslate"><span class="pre">t</span></code>, are written as <code class="xref c c-data docutils literal notranslate"><span class="pre">t11</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t12</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t13</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t21</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t22</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t23</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t31</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t32</span></code> <code class="xref c c-data docutils literal notranslate"><span class="pre">t33</span></code>.</p>
<table class="docutils footnote" frame="void" id="msfile" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>As of version 3.5.0, <code class="xref c c-data docutils literal notranslate"><span class="pre">msfile(&lt;file_name&gt;)</span></code> should be preferred over <code class="xref c c-data docutils literal notranslate"><span class="pre">file(&lt;file_name&gt;)</span></code>.</td></tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="versions.html" class="btn btn-neutral float-right" title="Versions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="exprskeys.html" class="btn btn-neutral float-left" title="Expressions and Keys" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>